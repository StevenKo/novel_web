$container = $('.content-body .row');
$container.append('<%= j render partial: "novels/novel_for_category", collection: @novels, as: :novel %>').masonry( 'reloadItems' );

reload_masonry = function() {
  $container.imagesLoaded(function() {
    $container.masonry({
      itemSelector: '#marsony-item'
    });
  });
};

window.setTimeout(reload_masonry, 100);
window.setTimeout(reload_masonry, 500);


<% if @novels.next_page %>
  $('.pagination').replaceWith('<%= j will_paginate @novels %>');
<% else %>
  $(window).off('scroll');
  $('.pagination').remove();
<% end %>