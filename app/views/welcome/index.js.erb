$container = $('.box_wrapper');
$container.append('<%= j render @novels %>').masonry( 'reloadItems' );

reload_masonry = function() {
  $container.masonry({
    itemSelector: '.box_item'
  });
};

window.setTimeout(reload_masonry, 100);

<% if @novels.next_page %>
  $('.pagination').replaceWith('<%= j will_paginate @novels %>');
<% else %>
  $(window).off('scroll');
  $('.pagination').remove();
<% end %>